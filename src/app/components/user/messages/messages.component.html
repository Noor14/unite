<section class="coversationStruc">
    <div class="row m-0 h-100">
      <div class="overlay" *ngIf="personInfo" (click)="personInfo = false"></div>
        <div class="col-md-5 col-lg-4 col-xl-4 p-0 conversationList">
            <header>
                <nav class="navbar bg-light">
                  <input type="text" placeholder="Search" class="form-control search">
                </nav>
                <div class="text-center bg-light p-2 subnav">
                  <button class="btn"><img src="../../../assets/_images/icon_add.svg" class="mr-1 iconAdd" alt="iconAdd"> Add a new connection</button>
                </div>
            </header>
            <div class="connectionList">
                <ul class="list-group">
                    <perfect-scrollbar>
                    <li class="list-group-item list-group-item-action pointer" *ngFor="let connection of connectionList" (click)="openChat()">
                      <div class="d-flex">
                        <div class="profpic mr-3" [ngClass]="{'online': connection.onlineStatus}">
                          <img [src]="connection.profileImgUrl" alt="pic"/>
                           <span *ngIf="connection.unreadMsg" class="unreadMsgBadge">{{connection.unreadMsg}}</span>
                        </div>
                        <div class="chatContent">
                          <h6 class="mb-1">{{connection.profileName}}</h6>
                          <p class="mb-0">{{connection.lastMsg}}</p>
                        </div>
                      </div>
                      <small class="text-muted">{{connection.lastMsgTimeStamp}}</small>
                      <!-- <small class="text-danger">3 years ago</small> -->
                      <!-- <small class="text-muted">3 days ago</small> -->
                    </li>

                  </perfect-scrollbar>
            </ul>
          </div>
        </div>
        <div class="col-md-7 col-lg-8 col-xl-8 p-0 position-relative overflow-hidden">
          <app-info *ngIf="personInfo" [@slideInOut]></app-info>
          <section class="h-100 conversations" *ngIf="openConversation">
            <header>
                <nav class="navbar">
                    <div class="profile d-flex align-items-center">
                        <div class="profpic online mr-3">
                            <img src="../../../assets/_images/capture.PNG" alt="pic" />
                        </div>
                        <h5>Noor Ali</h5>
                    </div>
                    <div class="d-flex align-items-center">
                      <button class="btn mr-3 p-0">
                        <svg version="1.1" fill="#ababab" height="18px" width="18px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        viewBox="0 0 512.076 512.076" style="enable-background:new 0 0 512.076 512.076;" xml:space="preserve">
                     <g transform="translate(-1 -1)">
                       <g>
                         <g>
                           <path d="M499.639,396.039l-103.646-69.12c-13.153-8.701-30.784-5.838-40.508,6.579l-30.191,38.818
                             c-3.88,5.116-10.933,6.6-16.546,3.482l-5.743-3.166c-19.038-10.377-42.726-23.296-90.453-71.04s-60.672-71.45-71.049-90.453
                             l-3.149-5.743c-3.161-5.612-1.705-12.695,3.413-16.606l38.792-30.182c12.412-9.725,15.279-27.351,6.588-40.508l-69.12-103.646
                             C109.12,1.056,91.25-2.966,77.461,5.323L34.12,31.358C20.502,39.364,10.511,52.33,6.242,67.539
                             c-15.607,56.866-3.866,155.008,140.706,299.597c115.004,114.995,200.619,145.92,259.465,145.92
                             c13.543,0.058,27.033-1.704,40.107-5.239c15.212-4.264,28.18-14.256,36.181-27.878l26.061-43.315
                             C517.063,422.832,513.043,404.951,499.639,396.039z M494.058,427.868l-26.001,43.341c-5.745,9.832-15.072,17.061-26.027,20.173
                             c-52.497,14.413-144.213,2.475-283.008-136.32S8.29,124.559,22.703,72.054c3.116-10.968,10.354-20.307,20.198-26.061
                             l43.341-26.001c5.983-3.6,13.739-1.855,17.604,3.959l37.547,56.371l31.514,47.266c3.774,5.707,2.534,13.356-2.85,17.579
                             l-38.801,30.182c-11.808,9.029-15.18,25.366-7.91,38.332l3.081,5.598c10.906,20.002,24.465,44.885,73.967,94.379
                             c49.502,49.493,74.377,63.053,94.37,73.958l5.606,3.089c12.965,7.269,29.303,3.898,38.332-7.91l30.182-38.801
                             c4.224-5.381,11.87-6.62,17.579-2.85l103.637,69.12C495.918,414.126,497.663,421.886,494.058,427.868z"/>
                           <path d="M291.161,86.39c80.081,0.089,144.977,64.986,145.067,145.067c0,4.713,3.82,8.533,8.533,8.533s8.533-3.82,8.533-8.533
                             c-0.099-89.503-72.63-162.035-162.133-162.133c-4.713,0-8.533,3.82-8.533,8.533S286.448,86.39,291.161,86.39z"/>
                           <path d="M291.161,137.59c51.816,0.061,93.806,42.051,93.867,93.867c0,4.713,3.821,8.533,8.533,8.533
                             c4.713,0,8.533-3.82,8.533-8.533c-0.071-61.238-49.696-110.863-110.933-110.933c-4.713,0-8.533,3.82-8.533,8.533
                             S286.448,137.59,291.161,137.59z"/>
                           <path d="M291.161,188.79c23.552,0.028,42.638,19.114,42.667,42.667c0,4.713,3.821,8.533,8.533,8.533s8.533-3.82,8.533-8.533
                             c-0.038-32.974-26.759-59.696-59.733-59.733c-4.713,0-8.533,3.82-8.533,8.533S286.448,188.79,291.161,188.79z"/>
                         </g>
                       </g>
                     </g>
                     </svg>
                      </button>
                      <button class="btn mr-3 p-0">
                        <svg viewBox="0 -87 472 472" fill="#ababab" height="20px" width="20px" xmlns="http://www.w3.org/2000/svg">
                          <path d="m467.101562 26.527344c-3.039062-1.800782-6.796874-1.871094-9.898437-.179688l-108.296875 59.132813v-35.480469c-.03125-27.601562-22.398438-49.96875-50-50h-248.90625c-27.601562.03125-49.96875 22.398438-50 50v197.421875c.03125 27.601563 22.398438 49.96875 50 50h248.90625c27.601562-.03125 49.96875-22.398437 50-50v-34.835937l108.300781 59.132812c3.097657 1.691406 6.859375 1.625 9.894531-.175781 3.039063-1.804688 4.898438-5.074219 4.898438-8.601563v-227.816406c0-3.53125-1.863281-6.796875-4.898438-8.597656zm-138.203124 220.898437c-.015626 16.5625-13.4375 29.980469-30 30h-248.898438c-16.5625-.019531-29.980469-13.4375-30-30v-197.425781c.019531-16.558594 13.4375-29.980469 30-30h248.90625c16.558594.019531 29.980469 13.441406 30 30zm123.101562-1.335937-103.09375-56.289063v-81.535156l103.09375-56.285156zm0 0"/>
                        </svg>
                      </button>
                      <div class="pointer" placement="bottom-right" ngbDropdown>
                        <span id="info"  ngbDropdownToggle>
                            <svg version="1.1" id="iconmore" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                            viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve">
                           <g>
                           <path d="M30,16c4.411,0,8-3.589,8-8s-3.589-8-8-8s-8,3.589-8,8S25.589,16,30,16z"/>
                           <path d="M30,44c-4.411,0-8,3.589-8,8s3.589,8,8,8s8-3.589,8-8S34.411,44,30,44z"/>
                           <path d="M30,22c-4.411,0-8,3.589-8,8s3.589,8,8,8s8-3.589,8-8S34.411,22,30,22z"/>
                           </g>
                           </svg>
                        </span>
                        <ul ngbDropdownMenu aria-labelledby="info" class="p-0">
                          <li ngbDropdownItem (click)="openContactInfo()" >Contact Info</li>
                          <li ngbDropdownItem (click)="openDialog()">Clear Conversation</li>
                        </ul>
                    </div>
                    </div>

                </nav>
            </header>
            <div class="messages">
              <perfect-scrollbar #scroll>
              <div class="m-2 ml-3">
                <p>
                  Donec id elit non mi porta gravida at eget metus.
                  Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
                <p>
                  Donec id elit non mi porta gravida at eget metus.
                  Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
                <p>
                  Donec id elit non mi porta gravida at eget metus.
                  Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
                <p>
                  Donec id elit non mi porta gravida at eget metus.
                  Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
                <p>
                  Donec id elit non mi porta gravida at eget metus.
                  Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
              </div>

              <div class="m-2 mr-3">
                <p>
                  Donec id elit non mi porta gravida at eget metus.
                  Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
                <p>
                Donec id elit non mi porta gravida at eget metus.
                Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
              </div>

              <div class="m-2 ml-3">
                <p>
                  Donec id elit non mi porta gravida at eget metus.
                  Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
              </div>
            </perfect-scrollbar>
            </div>
            <footer class="writingText">
              <form>
                    <div class="d-flex">
                        <textarea placeholder="Type a message"></textarea>
                        <button class="btn msgSendBtn ml-3 pl-4" type="submit">Send</button>
                    </div>
              </form>
            </footer>
          </section>
          <section class="h-100 d-flex openConvo justify-content-center align-items-center " *ngIf="!openConversation">
                  <svg version="1.1" id="iconMessage" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve">
                  <g>
                    <path d="M10,25.465h13c0.553,0,1-0.448,1-1s-0.447-1-1-1H10c-0.553,0-1,0.448-1,1S9.447,25.465,10,25.465z"/>
                    <path d="M36,29.465H10c-0.553,0-1,0.448-1,1s0.447,1,1,1h26c0.553,0,1-0.448,1-1S36.553,29.465,36,29.465z"/>
                    <path d="M36,35.465H10c-0.553,0-1,0.448-1,1s0.447,1,1,1h26c0.553,0,1-0.448,1-1S36.553,35.465,36,35.465z"/>
                    <path d="M54.072,2.535L19.93,2.465c-3.27,0-5.93,2.66-5.93,5.93v5.124l-8.07,0.017c-3.27,0-5.93,2.66-5.93,5.93v21.141
                      c0,3.27,2.66,5.929,5.93,5.929H12v10c0,0.413,0.254,0.784,0.64,0.933c0.117,0.045,0.239,0.067,0.36,0.067
                      c0.276,0,0.547-0.115,0.74-0.327l9.704-10.675l16.626-0.068c3.27,0,5.93-2.66,5.93-5.929v-0.113l5.26,5.786
                      c0.193,0.212,0.464,0.327,0.74,0.327c0.121,0,0.243-0.022,0.36-0.067c0.386-0.149,0.64-0.52,0.64-0.933v-10h1.07
                      c3.27,0,5.93-2.66,5.93-5.929V8.465C60,5.196,57.341,2.536,54.072,2.535z M44,40.536c0,2.167-1.763,3.929-3.934,3.929l-17.07,0.07
                      c-0.28,0.001-0.548,0.12-0.736,0.327L14,53.949v-8.414c0-0.552-0.447-1-1-1H5.93c-2.167,0-3.93-1.763-3.93-3.929V19.465
                      c0-2.167,1.763-3.93,3.932-3.93l9.068-0.019c0,0,0,0,0,0c0.001,0,0.001,0,0.002,0l25.068-0.052c2.167,0,3.93,1.763,3.93,3.93
                      v18.441V40.536z M58,29.606c0,2.167-1.763,3.929-3.93,3.929H52c-0.553,0-1,0.448-1,1v8.414l-5-5.5V19.395
                      c0-3.27-2.66-5.93-5.932-5.93L16,13.514v-5.12c0-2.167,1.763-3.93,3.928-3.93l34.141,0.07c0.001,0,0.001,0,0.002,0
                      c2.167,0,3.93,1.763,3.93,3.93V29.606z"/>
                  </g>

                  </svg>

          </section>
        </div>
    </div>
</section>
