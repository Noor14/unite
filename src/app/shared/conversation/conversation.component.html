<section class="coversationStruc">
    <div class="row m-0 h-100">
      <div class="overlay" *ngIf="personInfo" (click)="personInfo = false"></div>
        <div class="col-md-5 col-lg-4 col-xl-4 p-0 conversationList">
            <header>
                <nav class="navbar bg-light">
                  <input type="text" placeholder="Search" class="form-control search">
                </nav>
                <div class="text-center bg-light p-2 subnav">
                  <button class="btn"><img src="../../../assets/_images/icon_add.svg" class="mr-1 iconAdd" alt="iconAdd"> Add a new connection</button>
                </div>
            </header>
            <div class="connectionList">
                <ul class="list-group">
                    <perfect-scrollbar>
                    <li class="list-group-item list-group-item-action pointer" *ngFor="let connection of connectionList" (click)="openChat()">
                      <div class="d-flex">
                        <div class="profpic mr-3" [ngClass]="{'online': connection.onlineStatus}">
                          <img [src]="connection.profileImgUrl" alt="pic"/>
                           <span *ngIf="connection.unreadMsg" class="unreadMsgBadge">{{connection.unreadMsg}}</span>
                        </div>
                        <div class="chatContent">
                          <h6 class="mb-1">{{connection.profileName}}</h6>
                          <p class="mb-0">{{connection.lastMsg}}</p>
                        </div>
                      </div>
                      <small class="text-muted">{{connection.lastMsgTimeStamp}}</small>
                      <!-- <small class="text-danger">3 years ago</small> -->
                      <!-- <small class="text-muted">3 days ago</small> -->
                    </li>

                  </perfect-scrollbar>
            </ul>
          </div>
        </div>
        <div class="col-md-7 col-lg-8 col-xl-8 p-0 position-relative overflow-hidden">
          <app-info *ngIf="personInfo" [@slideInOut]></app-info>
          <section class="h-100 conversations" *ngIf="openConversation">
            <header>
                <nav class="navbar">
                    <div class="profile d-flex align-items-center">
                        <div class="profpic online mr-3">
                            <img src="../../../assets/_images/capture.PNG" alt="pic" />
                        </div>
                        <h5>Noor Ali</h5>
                    </div>
                    <div class="pointer" placement="bottom-right" ngbDropdown>
                        <span id="info"  ngbDropdownToggle>
                            <svg version="1.1" id="iconmore" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                            viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve">
                           <g>
                           <path d="M30,16c4.411,0,8-3.589,8-8s-3.589-8-8-8s-8,3.589-8,8S25.589,16,30,16z"/>
                           <path d="M30,44c-4.411,0-8,3.589-8,8s3.589,8,8,8s8-3.589,8-8S34.411,44,30,44z"/>
                           <path d="M30,22c-4.411,0-8,3.589-8,8s3.589,8,8,8s8-3.589,8-8S34.411,22,30,22z"/>
                           </g>
                           </svg>
                        </span>
                        <ul ngbDropdownMenu aria-labelledby="info" class="p-0">
                          <li ngbDropdownItem (click)="openContactInfo()" >Contact Info</li>
                          <li ngbDropdownItem (click)="openDialog()">Clear Conversation</li>
                        </ul>
                    </div>
                </nav>
            </header>
            <div class="messages">
              <perfect-scrollbar #scroll>
              <div class="m-2 ml-3">
                <p>
                  Donec id elit non mi porta gravida at eget metus.
                  Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
                <p>
                  Donec id elit non mi porta gravida at eget metus.
                  Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
                <p>
                  Donec id elit non mi porta gravida at eget metus.
                  Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
              </div>

              <div class="m-2 mr-3">
                <p>
                  Donec id elit non mi porta gravida at eget metus.
                  Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
                <p>
                Donec id elit non mi porta gravida at eget metus.
                Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
              </div>

              <div class="m-2 ml-3">
                <p>
                  Donec id elit non mi porta gravida at eget metus.
                  Maecenas sed diam eget risus varius blandit.
                <span>09:30 AM</span>
                </p>
              </div>
            </perfect-scrollbar>
            </div>
            <div class="writingText">
              <form>
                    <div class="d-flex">
                        <textarea placeholder="Type a message"></textarea>
                        <button class="btn msgSendBtn ml-3 pl-4" type="submit">Send</button>
                    </div>
              </form>
            </div>
          </section>
          <section class="h-100 d-flex openConvo justify-content-center align-items-center " *ngIf="!openConversation">
                  <svg version="1.1" id="iconMessage" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve">
                  <g>
                    <path d="M10,25.465h13c0.553,0,1-0.448,1-1s-0.447-1-1-1H10c-0.553,0-1,0.448-1,1S9.447,25.465,10,25.465z"/>
                    <path d="M36,29.465H10c-0.553,0-1,0.448-1,1s0.447,1,1,1h26c0.553,0,1-0.448,1-1S36.553,29.465,36,29.465z"/>
                    <path d="M36,35.465H10c-0.553,0-1,0.448-1,1s0.447,1,1,1h26c0.553,0,1-0.448,1-1S36.553,35.465,36,35.465z"/>
                    <path d="M54.072,2.535L19.93,2.465c-3.27,0-5.93,2.66-5.93,5.93v5.124l-8.07,0.017c-3.27,0-5.93,2.66-5.93,5.93v21.141
                      c0,3.27,2.66,5.929,5.93,5.929H12v10c0,0.413,0.254,0.784,0.64,0.933c0.117,0.045,0.239,0.067,0.36,0.067
                      c0.276,0,0.547-0.115,0.74-0.327l9.704-10.675l16.626-0.068c3.27,0,5.93-2.66,5.93-5.929v-0.113l5.26,5.786
                      c0.193,0.212,0.464,0.327,0.74,0.327c0.121,0,0.243-0.022,0.36-0.067c0.386-0.149,0.64-0.52,0.64-0.933v-10h1.07
                      c3.27,0,5.93-2.66,5.93-5.929V8.465C60,5.196,57.341,2.536,54.072,2.535z M44,40.536c0,2.167-1.763,3.929-3.934,3.929l-17.07,0.07
                      c-0.28,0.001-0.548,0.12-0.736,0.327L14,53.949v-8.414c0-0.552-0.447-1-1-1H5.93c-2.167,0-3.93-1.763-3.93-3.929V19.465
                      c0-2.167,1.763-3.93,3.932-3.93l9.068-0.019c0,0,0,0,0,0c0.001,0,0.001,0,0.002,0l25.068-0.052c2.167,0,3.93,1.763,3.93,3.93
                      v18.441V40.536z M58,29.606c0,2.167-1.763,3.929-3.93,3.929H52c-0.553,0-1,0.448-1,1v8.414l-5-5.5V19.395
                      c0-3.27-2.66-5.93-5.932-5.93L16,13.514v-5.12c0-2.167,1.763-3.93,3.928-3.93l34.141,0.07c0.001,0,0.001,0,0.002,0
                      c2.167,0,3.93,1.763,3.93,3.93V29.606z"/>
                  </g>

                  </svg>

          </section>
        </div>
    </div>
</section>
